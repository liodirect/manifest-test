<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>显化卡点测试</title>
<style>
body {
    font-family: "PingFang SC", sans-serif;
    background: #f6f4f1;
    text-align: center;
    padding: 30px;
}
.container {
    max-width: 600px;
    margin: auto;
}
button {
    display: block;
    margin: 10px auto;
    padding: 12px 20px;
    border: none;
    background: #6b5b95;
    color: white;
    border-radius: 8px;
    cursor: pointer;
}
button:hover {
    opacity: 0.8;
}
.hidden {
    display: none;
}
</style>
</head>

<body>

<div class="container">

<h1 id="title">你的显化卡点是什么？</h1>

<div id="start">
    <p>这个测试将帮助你识别当前显化过程中最核心的阻力。</p>
    <button onclick="startTest()">开始测试</button>
</div>

<div id="quiz" class="hidden">
    <h2 id="question"></h2>
    <div id="options"></div>
</div>

<div id="result" class="hidden">
    <h2 id="resultTitle"></h2>
    <p id="resultText"></p>
</div>

</div>

<script>

const questions = [
{
    q: "当你想到自己想要的目标时，你的第一反应是？",
    options: [
        { text: "希望能成，但也不确定", type: "belief" },
        { text: "有点焦虑，怕落空", type: "anxiety" },
        { text: "我会想很多准备步骤", type: "action" },
        { text: "我会怀疑自己是否能承受", type: "identity" }
    ]
},
{
    q: "当机会出现时，你通常会？",
    options: [
        { text: "犹豫一下再说", type: "belief" },
        { text: "担心是不是陷阱", type: "anxiety" },
        { text: "继续准备还不够好", type: "action" },
        { text: "担心改变后的压力", type: "identity" }
    ]
}
];

let current = 0;
let scores = {
    belief: 0,
    anxiety: 0,
    action: 0,
    identity: 0
};

function startTest() {
    document.getElementById("start").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");
    showQuestion();
}

function showQuestion() {
    const q = questions[current];
    document.getElementById("question").innerText = q.q;
    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";
    q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.innerText = option.text;
        btn.onclick = () => selectOption(option.type);
        optionsDiv.appendChild(btn);
    });
}

function selectOption(type) {
    scores[type]++;
    current++;
    if (current < questions.length) {
        showQuestion();
    } else {
        showResult();
    }
}

function showResult() {
    document.getElementById("quiz").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");

    const maxType = Object.keys(scores).reduce((a, b) =>
        scores[a] > scores[b] ? a : b
    );

    const results = {
    belief: {
        title: "信念未认领型",
        core: "你想要结果，但内在没有真正“认领”它。你更像是在试试看，而不是已经决定。",
        mistake: "显化不是许愿，而是站位。如果你还在犹豫，你的行动就会替你犹豫。",
        action: "连续7天写下：'我已经是能拥有这件事的人。' 并每天做一个微小但具体的现实动作去靠近它。"
    },
    anxiety: {
        title: "焦虑拉扯型",
        core: "你太在意结果是否发生，反而放大了“还没有”的感受。",
        mistake: "当注意力长期停留在缺失感，潜意识会默认你仍处于匮乏状态。",
        action: "每天固定10分钟，只允许自己想象成功后的稳定状态，而不是成功瞬间。训练稳定感，而非高潮感。"
    },
    action: {
        title: "行动错位型",
        core: "你相信显化，但现实行动与目标还没有完全对齐。",
        mistake: "显化不是只靠内在感受，它需要现实动作作为确认信号。",
        action: "列出一个你拖延的关键动作，48小时内完成它。哪怕完成60%。"
    },
    identity: {
        title: "潜意识回避型",
        core: "当你真的接近升级时，潜意识开始自我保护。",
        mistake: "你并不是做不到，而是担心承担更大的责任或曝光。",
        action: "写下：'如果这件事真的成功，我最害怕的是什么？' 然后逐条拆解它。"
    }
};

    document.getElementById("resultTitle").innerText = results[maxType].title;

document.getElementById("resultText").innerHTML = `
<p><strong>核心阻力：</strong><br>${results[maxType].core}</p>
<br>
<p><strong>显化误区：</strong><br>${results[maxType].mistake}</p>
<br>
<p><strong>专属行动建议：</strong><br>${results[maxType].action}</p>
`;
// 创建雷达图canvas
const canvas = document.createElement("canvas");
canvas.id = "radarChart";
canvas.style.marginTop = "30px";
document.getElementById("result").appendChild(canvas);

// 根据得分生成雷达数据
const ctx = canvas.getContext("2d");

new Chart(ctx, {
    type: 'radar',
    data: {
        labels: [
            '信念稳定度',
            '焦虑波动',
            '行动对齐度',
            '身份认同稳定度'
        ],
        datasets: [{
            label: '显化阻力指数',
            data: [
                scores.belief * 40,
                scores.anxiety * 40,
                scores.action * 40,
                scores.identity * 40
            ]
        }]
    },
    options: {
        responsive: true,
        scales: {
            r: {
                min: 0,
                max: 100
            }
        }
    }
});
}

</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>
